# 4. Median of Two Sorted Arrays

## Tags

- Free
- Hard
- Frequency: 4/5

## Links

[Leetcode](https://leetcode.com/problems/median-of-two-sorted-arrays/)

[Blog](http://206.81.6.248:12306/leetcode/median-of-two-sorted-arrays/description)

## Description

>There are two sorted arrays nums1 and nums2 of size m and n respectively.
>
>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).
>
>You may assume nums1 and nums2 cannot be both empty.
>
>>Example 1:
>>
>>nums1 = [1, 3]
>>nums2 = [2]
>>The median is 2.0
>
>>Example 2:
>>
>>nums1 = [1, 2]
>>nums2 = [3, 4]
>>The median is (2 + 3)/2 = 2.5

## Python code

```python
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2:List[int]) -> float:
        l = len(nums1) + len(nums2)
        if l % 2 == 1:
            return self.kth(nums1, nums2, l//2)
        else:
            return (self.kth(nums1, nums2, l//2) + self.kth(nums1, nums2, l//2 - 1)) / 2

    def kth(self, a: List[int], b: List[int], k: int):
        if not a:
            return b[k]
        if not b:
            return a[k]
        ia, ib = len(a) // 2, len(b) // 2
        ma, mb = a[ia], b[ib]

        # when k is bigger than the sum of a and b's median indices
        if ia + ib < k:
            # if a's median is bigger than b's, b's first half doesn't include k
            if ma > mb:
                return self.kth(a, b[ib + 1:], k - ib - 1)
            else:
                return self.kth(a[ia + 1:], b, k - ia - 1)

        # when k is smaller than the sum of a and b's indices
        else:
            # if a's median is bigger than b's, a's second half doesn't include k
            if ma > mb:
                return self.kth(a[:ia], b, k)
            else:
                return self.kth(a, b[:ib], k)
```

## Explanation

>a = 7, 8, 9
>b = 1, 2, 3, 4, 5, 6
>k = 4

1 step =>
|   |       |   |       | **k = 4** |   |
|---|-------|---|-------|-----------|---|
| 7 | **8** | 9 |       |           |   |
| 1 | 2     | 3 | **4** | 5         | 6 |

    ia = 1
    ib = 3
    ma = 8
    mb = 4
    kth([7], [1, 2, 3, 4, 5, 6], 4)

2 =>
    ia = 0
    ib = 3
    ma = 7
    mb = 4
    kth([7], [5, 6], 0)

3 =>
    ia = 0
    ib = 1
    ma = 7
    mb = 6
    kth([], [5, 6], 0)

result =>
    b[0] = 5

## Reference

[clue](https://leetcode.com/problems/median-of-two-sorted-arrays/discuss/2511/Intuitive-Python-O(log-(m%2Bn))-solution-by-kth-smallest-in-the-two-sorted-arrays-252ms)
